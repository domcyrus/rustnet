name: Test Platform Builds

# Test builds on all supported platforms.
# Uses the shared build-platforms workflow.

on:
  workflow_dispatch:
  pull_request:
    paths:
      - 'Cargo.toml'
      - 'build.rs'
      - 'src/**'
      - '.github/workflows/test-platform-builds.yml'
      - '.github/workflows/build-platforms.yml'
      - '.github/actions/**'

permissions:
  contents: read

jobs:
  build:
    uses: ./.github/workflows/build-platforms.yml
    with:
      create-archives: false
      strip-symbols: false
